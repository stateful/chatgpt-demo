"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MessagePrompt = exports.MessageType = void 0;
var MessageType;
(function (MessageType) {
    MessageType["Email"] = "promotion email";
    MessageType["Text"] = "SMS promotion";
})(MessageType = exports.MessageType || (exports.MessageType = {}));
/**
 * A prompt used for extracting information from customer support interactions
 * @export
 */
class MessagePrompt {
    constructor(mi, pi, ri) {
        this.receiver = '';
        this.product = '';
        for (var k in ri) {
            this.receiver += `${k}: ${ri[k]}\n`;
        }
        for (var k in pi) {
            this.product += `${k}: ${pi[k]}\n`;
        }
        this.messageInfo = mi;
    }
    metadata() {
        return {
            stopSequences: ['Text:'],
        };
    }
    create(query, _history, _ai) {
        return `
Using the below information to write an effective ${this.messageInfo.type}.

Product information:
${this.product}

Receiver Information:
${this.receiver}

Context:
${query}
`;
    }
}
exports.MessagePrompt = MessagePrompt;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW1haWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Byb21wdHMvZW1haWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLElBQVksV0FHWDtBQUhELFdBQVksV0FBVztJQUNyQix3Q0FBeUIsQ0FBQTtJQUN6QixxQ0FBc0IsQ0FBQTtBQUN4QixDQUFDLEVBSFcsV0FBVyxHQUFYLG1CQUFXLEtBQVgsbUJBQVcsUUFHdEI7QUFrQkQ7OztHQUdHO0FBQ0gsTUFBYSxhQUFhO0lBS3hCLFlBQVksRUFBZSxFQUFFLEVBQWUsRUFBRSxFQUFtQjtRQUh6RCxhQUFRLEdBQVcsRUFBRSxDQUFDO1FBQ3RCLFlBQU8sR0FBVyxFQUFFLENBQUM7UUFHM0IsS0FBSyxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDaEIsSUFBSSxDQUFDLFFBQVEsSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztTQUNyQztRQUVELEtBQUssSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFO1lBQ2hCLElBQUksQ0FBQyxPQUFPLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7U0FDcEM7UUFFRCxJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRUQsUUFBUTtRQUNOLE9BQU87WUFDTCxhQUFhLEVBQUUsQ0FBQyxPQUFPLENBQUM7U0FDekIsQ0FBQztJQUNKLENBQUM7SUFFRCxNQUFNLENBQUMsS0FBYSxFQUFFLFFBQXNCLEVBQUUsR0FBYztRQUMxRCxPQUFPO29EQUN5QyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUk7OztFQUd2RSxJQUFJLENBQUMsT0FBTzs7O0VBR1osSUFBSSxDQUFDLFFBQVE7OztFQUdiLEtBQUs7Q0FDTixDQUFDO0lBQ0EsQ0FBQztDQUNGO0FBckNELHNDQXFDQyJ9