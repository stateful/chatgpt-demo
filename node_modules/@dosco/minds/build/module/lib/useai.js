import axios from 'axios';
const defaultOptions = {
    version: '2022-12-06',
    model: 'command-xlarge-nightly',
    maxTokens: 300,
    temperature: 0.9,
    k: 0,
    p: 0.75,
    frequencyPenalty: 0,
    presencePenalty: 0,
    stopSequences: [],
    returnLikelihoods: 'NONE',
};
const cohereQuery = async (prompt, apiKey, opt) => {
    const options = {
        headers: {
            Authorization: `BEARER ${apiKey}`,
            'Cohere-Version': opt.version,
        },
    };
    const data = {
        prompt: prompt,
        model: opt.model,
        max_tokens: opt.maxTokens,
        temperature: opt.temperature,
        k: opt.k,
        p: opt.p,
        frequency_penalty: opt.frequencyPenalty,
        presence_penalty: opt.presencePenalty,
        stop_sequences: opt.stopSequences,
        return_likelihoods: opt.returnLikelihoods,
    };
    const res = await axios.post('https://api.cohere.ai/generate', data, options);
    return res.data;
};
export const Cohere = (apiKey, opt = defaultOptions) => {
    return {
        query: (prompt) => cohereQuery(prompt, apiKey, opt),
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlYWkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGliL3VzZWFpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQztBQWUxQixNQUFNLGNBQWMsR0FBa0I7SUFDcEMsT0FBTyxFQUFFLFlBQVk7SUFDckIsS0FBSyxFQUFFLHdCQUF3QjtJQUMvQixTQUFTLEVBQUUsR0FBRztJQUNkLFdBQVcsRUFBRSxHQUFHO0lBQ2hCLENBQUMsRUFBRSxDQUFDO0lBQ0osQ0FBQyxFQUFFLElBQUk7SUFDUCxnQkFBZ0IsRUFBRSxDQUFDO0lBQ25CLGVBQWUsRUFBRSxDQUFDO0lBQ2xCLGFBQWEsRUFBRSxFQUFFO0lBQ2pCLGlCQUFpQixFQUFFLE1BQU07Q0FDMUIsQ0FBQztBQUVGLE1BQU0sV0FBVyxHQUFHLEtBQUssRUFDdkIsTUFBYyxFQUNkLE1BQWMsRUFDZCxHQUE0QixFQUM1QixFQUFFO0lBQ0YsTUFBTSxPQUFPLEdBQUc7UUFDZCxPQUFPLEVBQUU7WUFDUCxhQUFhLEVBQUUsVUFBVSxNQUFNLEVBQUU7WUFDakMsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLE9BQU87U0FDOUI7S0FDRixDQUFDO0lBRUYsTUFBTSxJQUFJLEdBQUc7UUFDWCxNQUFNLEVBQUUsTUFBTTtRQUNkLEtBQUssRUFBRSxHQUFHLENBQUMsS0FBSztRQUNoQixVQUFVLEVBQUUsR0FBRyxDQUFDLFNBQVM7UUFDekIsV0FBVyxFQUFFLEdBQUcsQ0FBQyxXQUFXO1FBQzVCLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNSLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNSLGlCQUFpQixFQUFFLEdBQUcsQ0FBQyxnQkFBZ0I7UUFDdkMsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLGVBQWU7UUFDckMsY0FBYyxFQUFFLEdBQUcsQ0FBQyxhQUFhO1FBQ2pDLGtCQUFrQixFQUFFLEdBQUcsQ0FBQyxpQkFBaUI7S0FDMUMsQ0FBQztJQUVGLE1BQU0sR0FBRyxHQUFHLE1BQU0sS0FBSyxDQUFDLElBQUksQ0FBQyxnQ0FBZ0MsRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDOUUsT0FBTyxHQUFHLENBQUMsSUFBSSxDQUFDO0FBQ2xCLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLE1BQU0sR0FBRyxDQUFDLE1BQWMsRUFBRSxNQUFxQixjQUFjLEVBQUUsRUFBRTtJQUM1RSxPQUFPO1FBQ0wsS0FBSyxFQUFFLENBQUMsTUFBYyxFQUFFLEVBQUUsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxHQUFHLENBQUM7S0FDNUQsQ0FBQztBQUNKLENBQUMsQ0FBQyJ9