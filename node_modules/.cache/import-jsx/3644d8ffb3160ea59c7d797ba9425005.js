#!/usr/bin/env NODE_NO_WARNINGS=1 node --loader=import-jsx
import React, { useState } from 'react';
import { render, Text, Box, Newline } from 'ink';
import SelectInput from 'ink-select-input';
import TextInput from 'ink-text-input';
import Spinner from 'ink-spinner';
import * as dotenv from 'dotenv';
dotenv.config();
import { Configuration, OpenAIApi } from "openai";
import { chatBots } from './utils.js';

// Testing directly against ChatGPT can be slow, mock the request to get faster responses.
import { jsx as _jsx } from "react/jsx-runtime";
import { Fragment as _Fragment } from "react/jsx-runtime";
import { jsxs as _jsxs } from "react/jsx-runtime";
const MOCK_CHATGPT_REQUEST = process.env.MOCK_CHATGPT_REQUEST || false;
const API_KEY = process.env.OPENAI_API_KEY;
const STEPS = {
  SELECT_CHAT_BOT: 1,
  PROMPT: 2,
  DISPLAY_ANSWER: 3
};
const ChatGPT = () => {
  const initialState = {
    chatbot: '',
    loading: false,
    question: '',
    answers: [],
    step: STEPS.SELECT_CHAT_BOT
  };
  const [promptState, setPromptState] = useState(initialState);
  const configuration = new Configuration({
    apiKey: API_KEY
  });
  const openai = new OpenAIApi(configuration);
  const onSelectChatbot = ({
    value
  }) => {
    setPromptState({
      ...promptState,
      chatbot: value,
      step: STEPS.PROMPT
    });
  };
  const sendChatGPTRequest = async messages => {
    if (MOCK_CHATGPT_REQUEST) {
      const request = new Promise(resolve => {
        setTimeout(resolve, 1000);
      });
      await request;
      return 'This is a mocked response';
    } else {
      const response = await openai.createChatCompletion({
        messages,
        model: "gpt-3.5-turbo"
      });
      return response.data.choices[0].message.content;
    }
  };
  const onQuestionSubmit = async () => {
    const {
      chatbot,
      question,
      answers
    } = promptState;
    if (question) {
      setPromptState({
        ...promptState,
        loading: true
      });
      const messages = [{
        role: "system",
        content: `Answer as you where ${chatbot}`
      }, {
        role: "user",
        content: question
      }];
      const answer = await sendChatGPTRequest(messages);
      setPromptState({
        ...promptState,
        loading: false,
        answer,
        step: STEPS.DISPLAY_ANSWER,
        answers: [...answers, {
          question,
          answer
        }]
      });
    }
  };
  const onQuestionChange = question => {
    setPromptState({
      ...promptState,
      question
    });
  };
  const onMoreQuestionsSelect = answer => {
    const {
      chatbot,
      answers
    } = promptState;
    if (answer.value === 'yes') {
      setPromptState({
        ...initialState,
        chatbot,
        answers,
        step: STEPS.PROMPT
      });
    } else {
      setPromptState({
        ...initialState,
        step: STEPS.SELECT_CHAT_BOT
      });
    }
  };
  const ChatbotSelector = () => {
    const {
      step
    } = promptState;
    return _jsxs(_Fragment, {
      children: [_jsx(Text, {
        color: "green",
        children: "What type of chatbot would you like to create?"
      }), _jsx(SelectInput, {
        items: chatBots,
        onSelect: onSelectChatbot,
        isFocused: step === STEPS.SELECT_CHAT_BOT
      })]
    });
  };
  const QuestionInput = ({
    questionGreetings
  }) => {
    const {
      question,
      loading,
      chatbot,
      step
    } = promptState;
    return _jsxs(_Fragment, {
      children: [_jsx(Text, {
        color: "green",
        children: questionGreetings
      }), _jsx(TextInput, {
        value: question,
        onChange: onQuestionChange,
        onSubmit: onQuestionSubmit,
        isFocused: step === STEPS.PROMPT
      }), loading && _jsxs(Text, {
        color: "blue",
        children: [_jsx(Spinner, {
          type: "runner"
        }), "\xA0Wait a moment, asking to ChatGPT \xA0(", chatbot, "): ", question]
      })]
    });
  };
  const ChatHistory = () => {
    const {
      answers,
      chatbot
    } = promptState;
    return _jsx(Box, {
      margin: 2,
      flexDirection: "column",
      children: answers.map(({
        question,
        answer
      }, index) => {
        return _jsx(Box, {
          children: _jsxs(Text, {
            children: [_jsx(Newline, {}), _jsx(Text, {
              italic: true,
              color: "#005cc5",
              children: "You:"
            }), " ", question, _jsx(Newline, {}), _jsxs(Text, {
              italic: true,
              color: "#005cc5",
              children: [chatbot, ": "]
            }), answer, _jsx(Newline, {})]
          })
        }, index);
      })
    });
  };
  const getPrompt = () => {
    const {
      chatbot,
      step
    } = promptState;
    return _jsxs(_Fragment, {
      children: [step === STEPS.SELECT_CHAT_BOT && _jsx(ChatbotSelector, {}), [STEPS.PROMPT, STEPS.DISPLAY_ANSWER].includes(step) && _jsxs(Text, {
        children: ["Responding as: ", chatbot]
      }), step === STEPS.PROMPT && _jsx(QuestionInput, {
        questionGreetings: "Perfect!, now tell me your question"
      }), step === STEPS.DISPLAY_ANSWER && _jsx(ChatHistory, {}), step === STEPS.DISPLAY_ANSWER && _jsxs(Text, {
        children: ["Do you have more questions for ", chatbot, "?"]
      }), step === STEPS.DISPLAY_ANSWER && _jsx(SelectInput, {
        items: [{
          label: 'yes',
          value: 'yes'
        }, {
          label: 'no',
          value: 'no'
        }],
        onSelect: onMoreQuestionsSelect,
        isFocused: step === STEPS.DISPLAY_ANSWER
      })]
    });
  };
  return getPrompt();
};
render(_jsx(ChatGPT, {}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwicmVuZGVyIiwiVGV4dCIsIkJveCIsIk5ld2xpbmUiLCJTZWxlY3RJbnB1dCIsIlRleHRJbnB1dCIsIlNwaW5uZXIiLCJkb3RlbnYiLCJjb25maWciLCJDb25maWd1cmF0aW9uIiwiT3BlbkFJQXBpIiwiY2hhdEJvdHMiLCJqc3giLCJfanN4IiwiRnJhZ21lbnQiLCJfRnJhZ21lbnQiLCJqc3hzIiwiX2pzeHMiLCJNT0NLX0NIQVRHUFRfUkVRVUVTVCIsInByb2Nlc3MiLCJlbnYiLCJBUElfS0VZIiwiT1BFTkFJX0FQSV9LRVkiLCJTVEVQUyIsIlNFTEVDVF9DSEFUX0JPVCIsIlBST01QVCIsIkRJU1BMQVlfQU5TV0VSIiwiQ2hhdEdQVCIsImluaXRpYWxTdGF0ZSIsImNoYXRib3QiLCJsb2FkaW5nIiwicXVlc3Rpb24iLCJhbnN3ZXJzIiwic3RlcCIsInByb21wdFN0YXRlIiwic2V0UHJvbXB0U3RhdGUiLCJjb25maWd1cmF0aW9uIiwiYXBpS2V5Iiwib3BlbmFpIiwib25TZWxlY3RDaGF0Ym90IiwidmFsdWUiLCJzZW5kQ2hhdEdQVFJlcXVlc3QiLCJtZXNzYWdlcyIsInJlcXVlc3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJyZXNwb25zZSIsImNyZWF0ZUNoYXRDb21wbGV0aW9uIiwibW9kZWwiLCJkYXRhIiwiY2hvaWNlcyIsIm1lc3NhZ2UiLCJjb250ZW50Iiwib25RdWVzdGlvblN1Ym1pdCIsInJvbGUiLCJhbnN3ZXIiLCJvblF1ZXN0aW9uQ2hhbmdlIiwib25Nb3JlUXVlc3Rpb25zU2VsZWN0IiwiQ2hhdGJvdFNlbGVjdG9yIiwiY2hpbGRyZW4iLCJjb2xvciIsIml0ZW1zIiwib25TZWxlY3QiLCJpc0ZvY3VzZWQiLCJRdWVzdGlvbklucHV0IiwicXVlc3Rpb25HcmVldGluZ3MiLCJvbkNoYW5nZSIsIm9uU3VibWl0IiwidHlwZSIsIkNoYXRIaXN0b3J5IiwibWFyZ2luIiwiZmxleERpcmVjdGlvbiIsIm1hcCIsImluZGV4IiwiaXRhbGljIiwiZ2V0UHJvbXB0IiwiaW5jbHVkZXMiLCJsYWJlbCJdLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiMhL3Vzci9iaW4vZW52IE5PREVfTk9fV0FSTklOR1M9MSBub2RlIC0tbG9hZGVyPWltcG9ydC1qc3hcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBUZXh0LCBCb3gsIE5ld2xpbmUgfSBmcm9tICdpbmsnO1xuaW1wb3J0IFNlbGVjdElucHV0IGZyb20gJ2luay1zZWxlY3QtaW5wdXQnO1xuaW1wb3J0IFRleHRJbnB1dCBmcm9tICdpbmstdGV4dC1pbnB1dCc7XG5pbXBvcnQgU3Bpbm5lciBmcm9tICdpbmstc3Bpbm5lcic7XG5cbmltcG9ydCAqIGFzIGRvdGVudiBmcm9tICdkb3RlbnYnXG5kb3RlbnYuY29uZmlnKClcblxuaW1wb3J0IHsgQ29uZmlndXJhdGlvbiwgT3BlbkFJQXBpIH0gZnJvbSBcIm9wZW5haVwiO1xuXG5pbXBvcnQgeyBjaGF0Qm90cyB9IGZyb20gJy4vdXRpbHMuanMnXG5cbi8vIFRlc3RpbmcgZGlyZWN0bHkgYWdhaW5zdCBDaGF0R1BUIGNhbiBiZSBzbG93LCBtb2NrIHRoZSByZXF1ZXN0IHRvIGdldCBmYXN0ZXIgcmVzcG9uc2VzLlxuY29uc3QgTU9DS19DSEFUR1BUX1JFUVVFU1QgPSBwcm9jZXNzLmVudi5NT0NLX0NIQVRHUFRfUkVRVUVTVCB8fCBmYWxzZVxuY29uc3QgQVBJX0tFWSA9IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZXG5jb25zdCBTVEVQUyA9IHtcblx0U0VMRUNUX0NIQVRfQk9UOiAxLFxuXHRQUk9NUFQ6IDIsXG5cdERJU1BMQVlfQU5TV0VSOiAzXG59XG5cbmNvbnN0IENoYXRHUFQgPSAoKSA9PiB7XG5cdGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcblx0XHRjaGF0Ym90OiAnJyxcblx0XHRsb2FkaW5nOiBmYWxzZSxcblx0XHRxdWVzdGlvbjogJycsXG5cdFx0YW5zd2VyczogW10sXG5cdFx0c3RlcDogU1RFUFMuU0VMRUNUX0NIQVRfQk9ULFxuXHR9XG5cblx0Y29uc3QgW3Byb21wdFN0YXRlLCBzZXRQcm9tcHRTdGF0ZV0gPSB1c2VTdGF0ZShpbml0aWFsU3RhdGUpXG5cdGNvbnN0IGNvbmZpZ3VyYXRpb24gPSBuZXcgQ29uZmlndXJhdGlvbih7IGFwaUtleTogQVBJX0tFWSB9KTtcblx0Y29uc3Qgb3BlbmFpID0gbmV3IE9wZW5BSUFwaShjb25maWd1cmF0aW9uKTtcblxuXHRjb25zdCBvblNlbGVjdENoYXRib3QgPSAoeyB2YWx1ZSB9KSA9PiB7XG5cdFx0c2V0UHJvbXB0U3RhdGUoe1xuXHRcdFx0Li4ucHJvbXB0U3RhdGUsXG5cdFx0XHRjaGF0Ym90OiB2YWx1ZSxcblx0XHRcdHN0ZXA6IFNURVBTLlBST01QVFxuXHRcdH0pXG5cdH1cblxuXHRjb25zdCBzZW5kQ2hhdEdQVFJlcXVlc3QgPSBhc3luYyAobWVzc2FnZXMpID0+IHtcblx0XHRpZiAoTU9DS19DSEFUR1BUX1JFUVVFU1QpIHtcblx0XHRcdGNvbnN0IHJlcXVlc3QgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuXHRcdFx0XHRzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApXG5cdFx0XHR9KVxuXHRcdFx0YXdhaXQgcmVxdWVzdFxuXHRcdFx0cmV0dXJuICdUaGlzIGlzIGEgbW9ja2VkIHJlc3BvbnNlJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IG9wZW5haS5jcmVhdGVDaGF0Q29tcGxldGlvbih7XG5cdFx0XHRcdG1lc3NhZ2VzLFxuXHRcdFx0XHRtb2RlbDogXCJncHQtMy41LXR1cmJvXCIsXG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGEuY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnRcblx0XHR9XG5cblx0fVxuXG5cdGNvbnN0IG9uUXVlc3Rpb25TdWJtaXQgPSBhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgeyBjaGF0Ym90LCBxdWVzdGlvbiwgYW5zd2VycyB9ID0gcHJvbXB0U3RhdGVcblx0XHRpZiAocXVlc3Rpb24pIHtcblx0XHRcdHNldFByb21wdFN0YXRlKHtcblx0XHRcdFx0Li4ucHJvbXB0U3RhdGUsXG5cdFx0XHRcdGxvYWRpbmc6IHRydWVcblx0XHRcdH0pXG5cdFx0XHRjb25zdCBtZXNzYWdlcyA9IFt7IHJvbGU6IFwic3lzdGVtXCIsIGNvbnRlbnQ6IGBBbnN3ZXIgYXMgeW91IHdoZXJlICR7Y2hhdGJvdH1gIH0sIHsgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IHF1ZXN0aW9uIH1dO1xuXHRcdFx0Y29uc3QgYW5zd2VyID0gYXdhaXQgc2VuZENoYXRHUFRSZXF1ZXN0KG1lc3NhZ2VzKVxuXHRcdFx0c2V0UHJvbXB0U3RhdGUoe1xuXHRcdFx0XHQuLi5wcm9tcHRTdGF0ZSxcblx0XHRcdFx0bG9hZGluZzogZmFsc2UsXG5cdFx0XHRcdGFuc3dlcixcblx0XHRcdFx0c3RlcDogU1RFUFMuRElTUExBWV9BTlNXRVIsXG5cdFx0XHRcdGFuc3dlcnM6IFsuLi5hbnN3ZXJzLCB7XG5cdFx0XHRcdFx0cXVlc3Rpb24sXG5cdFx0XHRcdFx0YW5zd2VyXG5cdFx0XHRcdH1dXG5cdFx0XHR9KVxuXHRcdH1cblx0fVxuXG5cdGNvbnN0IG9uUXVlc3Rpb25DaGFuZ2UgPSAocXVlc3Rpb24pID0+IHtcblx0XHRzZXRQcm9tcHRTdGF0ZSh7XG5cdFx0XHQuLi5wcm9tcHRTdGF0ZSxcblx0XHRcdHF1ZXN0aW9uXG5cdFx0fSlcblx0fVxuXG5cdGNvbnN0IG9uTW9yZVF1ZXN0aW9uc1NlbGVjdCA9IChhbnN3ZXIpID0+IHtcblx0XHRjb25zdCB7IGNoYXRib3QsIGFuc3dlcnMgfSA9IHByb21wdFN0YXRlXG5cdFx0aWYgKGFuc3dlci52YWx1ZSA9PT0gJ3llcycpIHtcblx0XHRcdHNldFByb21wdFN0YXRlKHsgLi4uaW5pdGlhbFN0YXRlLCBjaGF0Ym90LCBhbnN3ZXJzLCBzdGVwOiBTVEVQUy5QUk9NUFQgfSlcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2V0UHJvbXB0U3RhdGUoeyAuLi5pbml0aWFsU3RhdGUsIHN0ZXA6IFNURVBTLlNFTEVDVF9DSEFUX0JPVCB9KVxuXHRcdH1cblx0fVxuXG5cdGNvbnN0IENoYXRib3RTZWxlY3RvciA9ICgpID0+IHtcblx0XHRjb25zdCB7IHN0ZXAgfSA9IHByb21wdFN0YXRlXG5cdFx0cmV0dXJuIDw+XG5cdFx0XHQ8VGV4dCBjb2xvcj1cImdyZWVuXCI+V2hhdCB0eXBlIG9mIGNoYXRib3Qgd291bGQgeW91IGxpa2UgdG8gY3JlYXRlPzwvVGV4dD5cblx0XHRcdDxTZWxlY3RJbnB1dCBpdGVtcz17Y2hhdEJvdHN9IG9uU2VsZWN0PXtvblNlbGVjdENoYXRib3R9IGlzRm9jdXNlZD17c3RlcCA9PT0gU1RFUFMuU0VMRUNUX0NIQVRfQk9UfSAvPlxuXHRcdDwvPlxuXHR9XG5cblx0Y29uc3QgUXVlc3Rpb25JbnB1dCA9ICh7IHF1ZXN0aW9uR3JlZXRpbmdzIH0pID0+IHtcblx0XHRjb25zdCB7IHF1ZXN0aW9uLCBsb2FkaW5nLCBjaGF0Ym90LCBzdGVwIH0gPSBwcm9tcHRTdGF0ZVxuXHRcdHJldHVybiA8PlxuXHRcdFx0PFRleHQgY29sb3I9XCJncmVlblwiPntxdWVzdGlvbkdyZWV0aW5nc308L1RleHQ+XG5cdFx0XHQ8VGV4dElucHV0IHZhbHVlPXtxdWVzdGlvbn0gb25DaGFuZ2U9e29uUXVlc3Rpb25DaGFuZ2V9IG9uU3VibWl0PXtvblF1ZXN0aW9uU3VibWl0fSBpc0ZvY3VzZWQ9e3N0ZXAgPT09IFNURVBTLlBST01QVH0gLz5cblx0XHRcdHtsb2FkaW5nICYmIDxUZXh0IGNvbG9yPVwiYmx1ZVwiPjxTcGlubmVyIHR5cGU9J3J1bm5lcicgLz4mbmJzcDtXYWl0IGEgbW9tZW50LCBhc2tpbmcgdG8gQ2hhdEdQVCAmbmJzcDsoe2NoYXRib3R9KToge3F1ZXN0aW9ufTwvVGV4dD59XG5cblx0XHQ8Lz5cblx0fVxuXG5cdGNvbnN0IENoYXRIaXN0b3J5ID0gKCkgPT4ge1xuXHRcdGNvbnN0IHsgYW5zd2VycywgY2hhdGJvdCB9ID0gcHJvbXB0U3RhdGVcblx0XHRyZXR1cm4gPEJveCBtYXJnaW49ezJ9IGZsZXhEaXJlY3Rpb249XCJjb2x1bW5cIj5cblx0XHRcdHthbnN3ZXJzLm1hcCgoeyBxdWVzdGlvbiwgYW5zd2VyIH0sIGluZGV4KSA9PiB7XG5cdFx0XHRcdHJldHVybiA8Qm94IGtleT17aW5kZXh9PlxuXHRcdFx0XHRcdDxUZXh0PlxuXHRcdFx0XHRcdFx0PE5ld2xpbmUgLz5cblx0XHRcdFx0XHRcdDxUZXh0IGl0YWxpYyBjb2xvcj1cIiMwMDVjYzVcIj5Zb3U6PC9UZXh0PiB7cXVlc3Rpb259XG5cdFx0XHRcdFx0XHQ8TmV3bGluZSAvPlxuXHRcdFx0XHRcdFx0PFRleHQgaXRhbGljIGNvbG9yPVwiIzAwNWNjNVwiPntjaGF0Ym90fTogPC9UZXh0PlxuXHRcdFx0XHRcdFx0e2Fuc3dlcn1cblx0XHRcdFx0XHRcdDxOZXdsaW5lIC8+XG5cdFx0XHRcdFx0PC9UZXh0PlxuXHRcdFx0XHQ8L0JveD5cblx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0PC9Cb3g+XG5cdH1cblxuXHRjb25zdCBnZXRQcm9tcHQgPSAoKSA9PiB7XG5cdFx0Y29uc3QgeyBjaGF0Ym90LCBzdGVwIH0gPSBwcm9tcHRTdGF0ZVxuXHRcdHJldHVybiA8PlxuXHRcdFx0e3N0ZXAgPT09IFNURVBTLlNFTEVDVF9DSEFUX0JPVCAmJiA8Q2hhdGJvdFNlbGVjdG9yIC8+fVxuXHRcdFx0e1tTVEVQUy5QUk9NUFQsIFNURVBTLkRJU1BMQVlfQU5TV0VSXS5pbmNsdWRlcyhzdGVwKSAmJiA8VGV4dD5SZXNwb25kaW5nIGFzOiB7Y2hhdGJvdH08L1RleHQ+fVxuXHRcdFx0e3N0ZXAgPT09IFNURVBTLlBST01QVCAmJiA8UXVlc3Rpb25JbnB1dCBxdWVzdGlvbkdyZWV0aW5ncz1cIlBlcmZlY3QhLCBub3cgdGVsbCBtZSB5b3VyIHF1ZXN0aW9uXCIgLz59XG5cdFx0XHR7c3RlcCA9PT0gU1RFUFMuRElTUExBWV9BTlNXRVIgJiYgPENoYXRIaXN0b3J5IC8+fVxuXHRcdFx0e3N0ZXAgPT09IFNURVBTLkRJU1BMQVlfQU5TV0VSICYmIDxUZXh0PkRvIHlvdSBoYXZlIG1vcmUgcXVlc3Rpb25zIGZvciB7Y2hhdGJvdH0/PC9UZXh0Pn1cblx0XHRcdHtzdGVwID09PSBTVEVQUy5ESVNQTEFZX0FOU1dFUiAmJiA8U2VsZWN0SW5wdXQgaXRlbXM9e1tcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiAneWVzJyxcblx0XHRcdFx0XHR2YWx1ZTogJ3llcydcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiAnbm8nLFxuXHRcdFx0XHRcdHZhbHVlOiAnbm8nXG5cdFx0XHRcdH1cblx0XHRcdF19IG9uU2VsZWN0PXtvbk1vcmVRdWVzdGlvbnNTZWxlY3R9IGlzRm9jdXNlZD17c3RlcCA9PT0gU1RFUFMuRElTUExBWV9BTlNXRVJ9IC8+fVxuXG5cdFx0PC8+XG5cdH1cblxuXHRyZXR1cm4gZ2V0UHJvbXB0KClcbn07XG5yZW5kZXIoPENoYXRHUFQgLz4pOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxPQUFPQSxLQUFLLElBQUlDLFFBQVEsUUFBUSxPQUFPO0FBQ3ZDLFNBQVNDLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxHQUFHLEVBQUVDLE9BQU8sUUFBUSxLQUFLO0FBQ2hELE9BQU9DLFdBQVcsTUFBTSxrQkFBa0I7QUFDMUMsT0FBT0MsU0FBUyxNQUFNLGdCQUFnQjtBQUN0QyxPQUFPQyxPQUFPLE1BQU0sYUFBYTtBQUVqQyxPQUFPLEtBQUtDLE1BQU0sTUFBTSxRQUFRO0FBQ2hDQSxNQUFNLENBQUNDLE1BQU0sRUFBRTtBQUVmLFNBQVNDLGFBQWEsRUFBRUMsU0FBUyxRQUFRLFFBQVE7QUFFakQsU0FBU0MsUUFBUSxRQUFRLFlBQVk7O0FBRXJDO0FBQUEsU0FBQUMsR0FBQSxJQUFBQyxJQUFBO0FBQUEsU0FBQUMsUUFBQSxJQUFBQyxTQUFBO0FBQUEsU0FB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